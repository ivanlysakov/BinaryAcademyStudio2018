@model List<Lesson2.Models.User>
@{
    ViewData["Title"] = "ShowAllUsers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>AllUsers</h2>
<br />
<p>
    Users Count <span class="badge">@Model.Count()</span>
</p>
<div>
    <br />
    <table class="table table-hover">

        <tbody>
            @foreach (var item in Model)

            {
                <tr bgcolor="#f0f0f5">
                    <td width="10%">
                        <div class="avatar">
                            <img src=@item.Avatar alt="avatarchik" style="width:200px;height:200px" />
                            <div class="avatar_text">

                                <p>
                                    <a href="@Url.Action("UserById", "Users", new { id = @item.Id })" class="user_link">
                                        <span>@item.Name</span>
                                    </a>
                                </p>
                            </div>
                        </div>
                    </td>


                    <td>
                        <table class="table table-hover w-aut">

                            <thead>
                                <tr>
                                    <td><h4><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Posts</h4></td>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var post in item.Posts)
                                {
                                    <tr>
                                        <td>
                                            <a href="@Url.Action("PostById", "Users", new { id = post.Id })" class="elements">
                                                <span>@post.Title</span>
                                            </a>

                                            <br />
                                            @post.Body
                                            <br />
                                            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> @post.Comments.Count

                                            <span class="glyphicon glyphicon-heart" aria-hidden="true"></span> @post.Likes
                                        </td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </td>
                    <td>
                        <table class="table table-hover w-aut">
                            <thead>
                                <tr>
                                    <td><h4><span class="glyphicon glyphicon-comment" aria-hidden="true"></span> Comments</h4></td>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var comment in item.Comments)
                                {
                                    <tr>
                                        <td>@comment.Body <span class="glyphicon glyphicon-heart" aria-hidden="true"></span> @comment.Likes</td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </td>
                    <td>
                        <table class="table table-hover w-aut">
                            <thead>
                                <tr>
                                    <td><h4><span class="glyphicon glyphicon-list" aria-hidden="true"></span> Tods</h4></td>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var todo in item.Todos)
                                {
                                    <tr>
                                        <td>

                                            <a href="@Url.Action("TodoById", "Users", new { id = todo.Id })" class="elements">
                                                <span>@todo.Name</span>
                                            </a>
                                            (@todo.IsComplete)
                                        </td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </td>
                </tr>

            }
        </tbody>
    </table>
</div>

